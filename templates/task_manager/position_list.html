{% extends "base.html" %}
{% load crispy_forms_filters %}

{% block title %}Positions List{% endblock %}

{% block content %}
{% include 'includes/navigation.html' %}


<div class="mx-3 mx-md-8 mt-7">
  <table class="table">
    <tr>
      <td>
        <h1>
          Positions List:
        </h1>
      </td>
      <td style="width: 300px;">
        <form method="get" action="" class="card bg-white text-black shadow px-3 my-2">
          {{ search_form|crispy }}
      </td>
      <td class="text-lg-end w-0"
      "">
      <input type="submit" value="🔍" class="btn btn-secondary ml-1 my-2">
      </td>
      </form>
      <td class="text-lg-end w-0">
        <a href="{% url 'task_manager:position-create' %}" class="btn btn-primary my-2">
          Create
        </a>
      </td>
    </tr>
  </table>
</div>

<div class="card card-body blur shadow-blur mx-3 mx-md-8 mt-n4">

  <section class="pt-2 pb-2" id="count-stats">
    {% if position_list %}
    <table class="table">
      <tr>
        <th class="w-5">ID</th>
        <th>Name</th>
        <th class="w-0"
        </th>
        <th class="w-0"></th>
      </tr>

      {% for position in position_list %}
      <tr>
        <td>
          {{ position.id }}
        </td>
        <td>
          {{ position.name }}
        </td>
        <td>
          <a href="{% url 'task_manager:position-update' pk=position.id %}" class="btn btn-info">
            Update
          </a>
        </td>
        <td>
          <a href="{% url 'task_manager:position-delete' pk=position.id %}" class="btn btn-danger">
            Delete
          </a>
        </td>
      </tr>
      {% endfor %}
    </table>

    {% else %}
    <p>There are no positions in the task manager.</p>
    {% endif %}
  </section>
</div>

<div class="d-flex justify-content-center py-3">
  {% include "includes/pagination.html" %}
</div>
{% endblock %}
{% include "includes/scripts.html" %}
